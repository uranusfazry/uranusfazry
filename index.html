<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uranusfazry - Neon Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap');

        /* --- Variabel Warna & Tema Neon --- */
        :root {
            --neon-blue: #05d9e8;
            --neon-pink: #ff2a6d;
            --neon-purple: #d300c5;
            --dark-bg: #05010e;
            --darker-bg: #0d0221;
            --nav-dark: #12092a;
        }

        body {
            font-family: 'Roboto Mono', sans-serif;
            background-color: var(--dark-bg);
            color: white;
            min-height: 100vh;
            background-image: var(--bg-image, none);
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            overflow-x: hidden;
        }
        
        h1, h2, h3, .nav-item, .portal-card h3 {
             font-family: 'Orbitron', sans-serif;
        }

        /* --- Efek Latar Belakang & Grid --- */
        .grid-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(to right, rgba(5, 217, 232, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(5, 217, 232, 0.05) 1px, transparent 1px);
            background-size: 30px 30px;
            z-index: -1;
            pointer-events: none;
        }

        /* --- Efek Glitch & Neon --- */
        .glitch-effect {
            position: relative;
            color: white;
        }

        .glitch-effect::before, .glitch-effect::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.8;
        }

        .glitch-effect::before {
            color: var(--neon-blue);
            z-index: -1;
            animation: glitch-effect 3s infinite;
        }

        .glitch-effect::after {
            color: var(--neon-pink);
            z-index: -2;
            animation: glitch-effect 2s infinite reverse;
        }

        @keyframes glitch-effect {
            0% { transform: translate(0); }
            20% { transform: translate(-3px, 3px); }
            40% { transform: translate(-3px, -3px); }
            60% { transform: translate(3px, 3px); }
            80% { transform: translate(3px, -3px); }
            100% { transform: translate(0); }
        }

        .neon-text-blue {
            color: var(--neon-blue);
            text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue), 0 0 20px var(--neon-blue);
        }

        .neon-text-pink {
            color: var(--neon-pink);
            text-shadow: 0 0 5px var(--neon-pink), 0 0 10px var(--neon-pink), 0 0 20px var(--neon-pink);
        }

        .neon-text-purple {
            color: var(--neon-purple);
            text-shadow: 0 0 5px var(--neon-purple), 0 0 10px var(--neon-purple), 0 0 20px var(--neon-purple);
        }

        .neon-border-blue {
            border: 1px solid var(--neon-blue);
            box-shadow: 0 0 5px var(--neon-blue), inset 0 0 5px var(--neon-blue), 0 0 20px var(--neon-blue);
        }

        .neon-border-pink {
            border: 1px solid var(--neon-pink);
            box-shadow: 0 0 5px var(--neon-pink), inset 0 0 5px var(--neon-pink), 0 0 20px var(--neon-pink);
        }
        
        .neon-underline {
            position: relative;
            display: inline-block;
        }

        .neon-underline::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, var(--neon-blue), var(--neon-pink));
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.5s ease-out;
        }

        .neon-underline:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }

        /* --- Komponen UI --- */
        .dropdown {
            display: none;
            background: var(--nav-dark);
            border: 1px solid var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-blue);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .group:hover .dropdown {
            display: block;
        }
        
        .nav-item:hover {
            transform: translateY(-2px);
            transition: transform 0.3s ease;
        }

        .portal-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .portal-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 0 20px currentColor;
        }

        .portal-card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .portal-card:hover .portal-card-inner {
            transform: rotateY(15deg) rotateX(10deg);
        }
        
        .profile {
            margin: 0 auto 1.5rem;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid var(--neon-pink);
            box-shadow: 0 0 20px var(--neon-pink), 0 0 30px var(--neon-purple);
            transition: transform 0.3s ease;
        }
        .profile:hover {
            transform: scale(1.05);
        }
        .profile img { width: 100%; height: 100%; object-fit: cover; }

        .modal-overlay {
            background: rgba(5, 1, 14, 0.9);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            animation: slideIn 0.3s ease;
            background: var(--darker-bg);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-block;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.selected::after {
            content: "✓";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
        }
        
        .custom-color-input {
            width: 100%;
            height: 30px;
            border: none;
            background: transparent;
            cursor: pointer;
            margin-top: 10px;
        }

        .bg-preview, .icon-preview {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .holographic-effect {
            position: relative;
            overflow: hidden;
        }

        .holographic-effect::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0) 45%,
                rgba(5, 217, 232, 0.2) 50%,
                rgba(255, 255, 255, 0) 55%
            );
            transform: rotate(30deg);
            animation: holographic 6s linear infinite;
        }

        @keyframes holographic {
            0% { transform: translateY(-100%) rotate(30deg); }
            100% { transform: translateY(100%) rotate(30deg); }
        }
        
        footer {
            text-align: center;
            padding: 2rem 0;
            font-size: 0.8rem;
            opacity: 0.7;
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body class="min-h-screen relative">
    <!-- Grid lines effect -->
    <div class="grid-lines"></div>

    <!-- Navbar -->
    <nav class="navbar fixed top-0 left-0 right-0 z-50 bg-[#05010e]/90 backdrop-blur-md border-b border-[#12092a]">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="neon-border-pink rounded-full p-2">
                        <i class="fas fa-terminal text-xl neon-text-pink"></i>
                    </div>
                    <span class="ml-3 font-bold text-xl neon-text-blue">URANUSFAZRY</span>
                </div>

                <!-- Nav Items -->
                <div class="hidden md:flex items-center space-x-6">
                    <div class="nav-item relative group">
                        <button class="flex items-center space-x-1 neon-text-blue neon-underline">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="dropdown absolute right-0 mt-2 w-80 rounded-lg p-4">
                            <h3 class="text-sm neon-text-pink mb-3 uppercase tracking-wider">Portal Management</h3>
                            <button onclick="showAddLinkModal()"
                                class="w-full py-2 neon-border-blue rounded flex items-center justify-center mb-3 hover:bg-[var(--neon-blue)] hover:text-[var(--darker-bg)] transition-all">
                                <i class="fas fa-plus mr-2"></i>Add New Portal
                            </button>

                            <h3 class="text-sm neon-text-blue mt-4 mb-3 uppercase tracking-wider">Customization</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="bg-image" class="block mb-2 text-xs uppercase tracking-wider">Background Image URL</label>
                                    <div class="flex">
                                        <input type="url" id="bg-image" class="flex-grow p-2 rounded-l-lg bg-[#12092a] border-0 focus:ring-0"
                                            placeholder="https://example.com/image.jpg">
                                        <button onclick="setBackgroundImage()"
                                            class="px-3 py-2 bg-[var(--neon-blue)] text-[var(--darker-bg)] rounded-r-lg hover:bg-[#00c4d2] transition-all">
                                            <i class="fas fa-check"></i>
                                        </button>
                                    </div>
                                    <div class="bg-upload-container">
                                        <label class="block mt-2 text-xs uppercase tracking-wider">Upload Background</label>
                                        <input type="file" id="bg-upload" class="w-full mt-1 text-xs" accept="image/*">
                                        <img id="bg-preview" class="bg-preview" src="#" alt="Background Preview">
                                        <button onclick="applyUploadedBackground()"
                                            class="mt-2 px-3 py-1 rounded border border-[#ff2a6d] hover:bg-[#ff2a6d]/20 transition-all text-xs">
                                            Apply Uploaded Image
                                        </button>
                                    </div>
                                    <button onclick="resetBackgroundImage()"
                                        class="mt-2 text-xs px-3 py-1 rounded border border-[#ff2a6d] hover:bg-[#ff2a6d]/20 transition-all">
                                        Reset Background
                                    </button>
                                </div>
                            </div>

                            <h3 class="text-sm neon-text-blue mt-4 mb-3 uppercase tracking-wider">System Info</h3>
                            <div class="text-xs space-y-2">
                                <div class="flex justify-between">
                                    <span>Version</span>
                                    <span class="text-[var(--neon-blue)]">v3.0.0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Portals</span>
                                    <span id="portal-count" class="text-[#ff2a6d]">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="nav-item relative group">
                        <a href="https://wa.me/6287872521809?text=Halo%2C+saya+tertarik+dengan+aplikasi+atau+website+seperti+Uranus+Fazry.+Saya+dengar+harganya+terjangkau+dan+langsung+dari+Anda.+Boleh+info+lebih+lanjut%3F" target="_blank" class="flex items-center space-x-1 neon-text-blue neon-underline">
                            <i class="fas fa-address-card"></i>
                            <span>Contact</span>
                        </a>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="neon-text-pink text-2xl focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-[#05010e] border-t border-[#ff2a6d]">
            <div class="px-2 py-3 space-y-1">
                <button onclick="showAddLinkModal()" class="block px-3 py-2 rounded-md neon-text-blue w-full text-left hover:bg-[var(--neon-blue)]/20">
                    <i class="fas fa-plus mr-2"></i>Add New Portal
                </button>
                <a href="https://wa.me/6287872521809?text=Halo%2C+saya+tertarik+dengan+aplikasi+atau+website+seperti+Uranus+Fazry.+Saya+dengar+harganya+terjangkau+dan+langsung+dari+Anda.+Boleh+info+lebih+lanjut%3F" target="_blank" class="block px-3 py-2 rounded-md neon-text-blue w-full text-left hover:bg-[var(--neon-blue)]/20">
                    <i class="fas fa-address-card mr-2"></i>Contact
                </a>
                <div class="px-3 py-2">
                    <label class="block text-xs neon-text-blue mb-1">Background Image</label>
                    <div class="flex mb-2">
                        <input type="url" id="bg-image-mobile" class="flex-grow p-2 rounded-l-lg bg-[#12092a]"
                            placeholder="Image URL">
                        <button onclick="setBackgroundImage()"
                            class="px-3 py-2 bg-[var(--neon-blue)] text-[#0d0221] rounded-r-lg hover:bg-[#00c4d2] transition-all">
                            <i class="fas fa-check"></i>
                        </button>
                    </div>
                    <button onclick="resetBackgroundImage()"
                        class="w-full px-3 py-1.5 text-xs rounded border border-[#ff2a6d] hover:bg-[#ff2a6d]/20 transition-all">
                        Reset Background
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main container -->
    <main class="container mx-auto px-4 py-8 relative z-10 mt-20">
        <!-- Header -->
        <header class="text-center mb-12">
            <div class="profile">
                <img src="https://i.imghippo.com/files/hkw7793vi.jpg" alt="Foto profil pribadi" onerror="this.onerror=null;this.src='https://placehold.co/120x120/0d0221/ffffff?text=UF';">
            </div>
            <div class="relative inline-block">
                <h1 class="glitch-effect text-5xl md:text-7xl font-bold mb-4" data-text="URANUS FAZRY">URANUS FAZRY</h1>
                <span
                    class="absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-48 h-1 bg-gradient-to-r from-transparent via-[var(--neon-blue)] to-transparent"></span>
                <span
                    class="absolute -bottom-5 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-transparent via-[var(--neon-pink)] to-transparent"></span>
            </div>
            <p class="text-lg neon-text-purple uppercase tracking-wider mt-8">Your gateway to the digital neonverse</p>
             <p class="max-w-xl mx-auto mt-4 text-sm opacity-80">
                Selamat datang di pusat berbagai proyek digital yang saya rancang dan kembangkan. Di sini Anda dapat menjelajahi karya-karya saya.
            </p>
        </header>

        <!-- Time and date display -->
        <div class="flex justify-center mb-12">
            <div class="neon-border-blue rounded-lg p-4 text-center backdrop-blur-sm bg-[#0d0221]/50 holographic-effect">
                <div id="time" class="text-3xl font-bold neon-text-blue">00:00:00</div>
                <div id="date" class="text-lg uppercase tracking-wider mt-1">Loading...</div>
            </div>
        </div>

        <!-- Portals grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-12" id="portals-grid">
            <!-- Portals will be added here by JavaScript -->
        </div>
    </main>
    
    <footer class="text-white">
        © 2025 Created by Uranus Fazry | All Rights Reserved
    </footer>


    <!-- Add Portal Modal -->
    <div id="add-portal-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="modal-content neon-border-blue rounded-xl p-8 max-w-md w-full mx-4 relative">
            <button id="close-portal-modal" onclick="document.getElementById('add-portal-modal').classList.add('hidden')"
                class="absolute top-4 right-4 text-xl hover:text-[#ff2a6d] transition-all">×</button>
            <h2 class="text-2xl neon-text-pink mb-6 uppercase tracking-wider">Create New Portal</h2>

            <form id="portal-form" class="space-y-6">
                <div>
                    <label for="portal-name" class="block mb-2 neon-text-blue uppercase text-sm tracking-wider">Portal Name</label>
                    <input type="text" id="portal-name" class="w-full p-3 rounded-lg bg-[#12092a] border-0 focus:outline-none focus:ring-2 focus:ring-[var(--neon-blue)]" required>
                </div>

                <div>
                    <label for="portal-url" class="block mb-2 neon-text-blue uppercase text-sm tracking-wider">Destination URL</label>
                    <input type="url" id="portal-url" class="w-full p-3 rounded-lg bg-[#12092a] border-0 focus:outline-none focus:ring-2 focus:ring-[var(--neon-blue)]" placeholder="https://" required>
                </div>

                <div>
                    <label class="block mb-2 neon-text-blue uppercase text-sm tracking-wider">Icon</label>
                    <select id="portal-icon" class="w-full p-3 rounded-lg bg-[#0d0221] border border-[#05d9e8] focus:outline-none focus:border focus:border-[#ff2a6d]">
                        <option value="fas fa-trophy">BY ONE</option>
                        <option value="fas fa-star">Testimoni</option>
                        <option value="fas fa-store">Uranus Studio</option>
                        <option value="fas fa-desktop">Uranustify Desktop</option>
                        <option value="fas fa-mobile-alt">Uranustify Mobile</option>
                        <option value="fas fa-chart-line">Uranus Crypto</option>
                        <option value="fas fa-globe">Uranus Space</option>
                        <option value="fas fa-wifi">Uranus WIFI</option>
                        <option value="fas fa-gamepad">Uranus Play</option>
                        <option value="fas fa-newspaper">Uranus Blogger</option>
                        <option value="fas fa-laptop-code">Uranus Web & App</option>
                        <option value="fas fa-envelope">Contact Me</option>
                        <option value="fab fa-tiktok">TikTok</option>
                        <option value="fab fa-youtube">YouTube</option>
                        <option value="fab fa-instagram">Instagram</option>
                        <option value="fab fa-facebook">Facebook</option>
                        <option value="custom-icon">Custom Icon</option>
                    </select>

                    <div id="custom-icon-options" class="custom-icon-option mt-3" style="display: none;">
                        <div class="flex space-x-4">
                            <div class="flex-1">
                                <label class="block mb-2 text-xs uppercase tracking-wider">Upload Icon</label>
                                <input type="file" id="icon-upload" class="w-full text-xs" accept="image/*">
                            </div>
                            <div class="flex-1">
                                <label class="block mb-2 text-xs uppercase tracking-wider">Icon URL</label>
                                <input type="url" id="icon-url" class="w-full p-2 rounded bg-[#0d0221]" placeholder="https://example.com/icon.png">
                            </div>
                        </div>
                        <img id="icon-preview" class="icon-preview" src="#" alt="Icon Preview">
                    </div>
                </div>

                <div>
                    <label class="block mb-2 neon-text-blue uppercase text-sm tracking-wider">Color</label>
                    <div class="color-picker-container text-center neon-border-blue rounded-lg p-2">
                        <div class="color-option" style="background-color: #ff2a6d;" onclick="selectPortalColor('#ff2a6d', this)"></div>
                        <div class="color-option selected" style="background-color: #05d9e8;" onclick="selectPortalColor('#05d9e8', this)"></div>
                        <div class="color-option" style="background-color: #d300c5;" onclick="selectPortalColor('#d300c5', this)"></div>
                        <div class="color-option" style="background-color: #00ff9d;" onclick="selectPortalColor('#00ff9d', this)"></div>
                        <div class="color-option" style="background-color: #ffcc00;" onclick="selectPortalColor('#ffcc00', this)"></div>
                        <div class="color-option" style="background-color: #ffffff;" onclick="selectPortalColor('#ffffff', this)"></div>
                        <div class="color-option" style="background-color: #1DA1F2;" onclick="selectPortalColor('#1DA1F2', this)"></div>
                        <div class="color-option" style="background-color: #FF5700;" onclick="selectPortalColor('#FF5700', this)"></div>
                        <input type="color" id="portal-custom-color" class="custom-color-input w-full h-8 mt-2" onchange="applyCustomPortalColor(this.value)">
                    </div>
                    <input type="hidden" id="portal-color" value="#05d9e8">
                </div>

                <div class="flex justify-end space-x-3">
                    <button type="button" onclick="document.getElementById('add-portal-modal').classList.add('hidden')"
                        class="px-4 py-2 rounded-lg border border-[#ff2a6d] hover:bg-[#ff2a6d] hover:text-white transition-all">
                        Cancel
                    </button>
                    <button type="submit"
                        class="px-6 py-2 neon-border-blue rounded-lg hover:bg-[var(--neon-blue)] hover:text-[#0d0221] transition-all font-bold">
                        Create Portal
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // --- Inisialisasi Data Default dari Konten Asli ---
        const defaultPortals = [
            { name: 'BY ONE SEKARANG', url: 'https://website-induk.vercel.app/', icon: 'fas fa-trophy', color: '#ffcc00', description: 'Hadapi aku sekarang. Buktikan siapa yang pantas menjadi Raja.' },
            { name: 'TESTIMONI BY ONE', url: 'https://testimoni-dun.vercel.app', icon: 'fas fa-star', color: '#ff2a6d', description: 'Semua kekalahan dan penderitaan kalian saat by one lawan Master.' },
            { name: 'Uranus Studio', url: 'https://musicfazry.vercel.app', icon: 'fas fa-store', color: '#d300c5', description: 'Solusi digital untuk mengubah kreativitas menjadi penghasilan.' },
            { name: 'Uranustify Desktop', url: 'https://uranustify-desktop.vercel.app/', icon: 'fas fa-desktop', color: '#00ff9d', description: 'Simpan & dengarkan musik favoritmu tanpa batas.' },
            { name: 'Uranustify Mobile', url: 'https://uranustify.vercel.app', icon: 'fas fa-mobile-alt', color: '#00ff9d', description: 'Rasakan kebebasan penuh dalam mendengarkan musik.' },
            { name: 'Uranus Crypto', url: 'https://uranus-crypto-three.vercel.app/', icon: 'fas fa-chart-line', color: '#f7931a', description: 'Strategi trading kripto cerdas dengan fokus pada profit.' },
            { name: 'Uranus Space', url: 'https://trakteer.id/uranusfazry/shop', icon: 'fas fa-globe', color: '#ffffff', description: 'Kumpulan karya premium Uranus siap pakai.' },
            { name: 'Uranus WIFI', url: 'https://uranusfazry-wifi-wireless.vercel.app', icon: 'fas fa-wifi', color: '#1DA1F2', description: 'Internet wireless cepat & stabil untuk kebutuhan online Anda.' },
            { name: 'Uranus Play', url: 'https://uranus-play.vercel.app', icon: 'fas fa-gamepad', color: '#9147ff', description: 'Game Multiplayer terbaik No. 1 tanpa install.' },
            { name: 'Uranus Blogger', url: 'https://uranusfazry.blogspot.com', icon: 'fas fa-newspaper', color: '#FF5700', description: 'Artikel yang menyajikan informasi singkat, padat, dan bermanfaat.' },
            { name: 'Uranus Web & App', url: 'https://wa.me/6287872521809?text=Halo%2C+saya+tertarik+dengan+aplikasi+atau+website+seperti+Uranus+Fazry', icon: 'fas fa-laptop-code', color: '#25D366', description: 'Dapatkan website atau aplikasi dengan harga terjangkau.' },
            { name: 'Contact Me', url: 'https://mail.google.com/mail/?view=cm&to=irawanfazry697@gmail.com', icon: 'fas fa-envelope', color: '#EA4335', description: 'Get in touch for collaborations.' },
        ];

        // --- Elemen DOM ---
        const portalsGrid = document.getElementById('portals-grid');
        const portalForm = document.getElementById('portal-form');
        const portalCount = document.getElementById('portal-count');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const timeDisplay = document.getElementById('time');
        const dateDisplay = document.getElementById('date');
        const portalIconSelect = document.getElementById('portal-icon');
        const customIconOptions = document.getElementById('custom-icon-options');
        const bgUpload = document.getElementById('bg-upload');
        const bgPreview = document.getElementById('bg-preview');
        const iconUpload = document.getElementById('icon-upload');
        const iconPreview = document.getElementById('icon-preview');
        
        // --- State Aplikasi ---
        let portals = [];
        let currentBgImage = '';
        
        // --- Inisialisasi Aplikasi ---
        document.addEventListener('DOMContentLoaded', function() {
            portals = JSON.parse(localStorage.getItem('portals')) || defaultPortals;
            currentBgImage = localStorage.getItem('bgImage') || '';

            renderPortals();
            updateTime();
            setInterval(updateTime, 1000);
            loadBackgroundImage();
            
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            portalForm.addEventListener('submit', handlePortalFormSubmit);
            portalIconSelect.addEventListener('change', () => {
                customIconOptions.style.display = (portalIconSelect.value === 'custom-icon') ? 'block' : 'none';
            });
            
            bgUpload.addEventListener('change', (e) => handleImageUpload(e, bgPreview));
            iconUpload.addEventListener('change', (e) => handleImageUpload(e, iconPreview));
        });

        function handleImageUpload(event, previewElement) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewElement.src = e.target.result;
                    previewElement.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }
        
        // --- Render Semua Portal ---
        function renderPortals() {
            portalsGrid.innerHTML = '';
            
            portals.forEach((portal, index) => {
                const portalElement = document.createElement('div');
                portalElement.className = 'h-full';
                
                const portalColor = portal.color || '#ffffff';
                const textColorStyle = `color: ${portalColor}; text-shadow: 0 0 5px ${portalColor}, 0 0 10px ${portalColor};`;
                const borderStyle = `border: 1px solid ${portalColor}; box-shadow: 0 0 5px ${portalColor}, inset 0 0 5px ${portalColor}, 0 0 10px ${portalColor};`;
                
                const iconHtml = portal.icon.startsWith('data:image') || portal.icon.startsWith('http')
                    ? `<img src="${portal.icon}" class="mx-auto h-12 w-12 mb-4 object-contain" alt="${portal.name} icon">`
                    : `<i class="${portal.icon} text-4xl mb-4" style="${textColorStyle}"></i>`;

                portalElement.innerHTML = `
                    <div class="portal-card h-full" style="color: ${portalColor};">
                        <a href="${portal.url}" target="_blank" class="block h-full p-6 rounded-lg text-center relative overflow-hidden backdrop-blur-sm bg-[#0d0221]/50 transition-all duration-300 flex flex-col" style="${borderStyle}">
                            <div class="portal-card-inner flex flex-col justify-center items-center flex-grow">
                                ${iconHtml}
                                <h3 class="font-bold uppercase tracking-wider break-words text-base" style="${textColorStyle}">${portal.name}</h3>
                                <p class="text-xs opacity-70 mt-2 font-sans">${portal.description || ''}</p>
                            </div>
                            <button onclick="deletePortal(event, ${index})" 
                                class="absolute top-2 right-2 text-xs text-red-500 hover:text-red-400 opacity-50 hover:opacity-100 transition-opacity z-10">
                                <i class="fas fa-times"></i>
                            </button>
                        </a>
                    </div>
                `;
                
                portalsGrid.appendChild(portalElement);
            });
            
            portalCount.textContent = portals.length;
        }
        
        // --- Menangani Submit Form Portal ---
        function handlePortalFormSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('portal-name').value;
            const url = document.getElementById('portal-url').value;
            let icon = document.getElementById('portal-icon').value;
            const color = document.getElementById('portal-color').value;
            
            if (icon === 'custom-icon') {
                const iconUrlInput = document.getElementById('icon-url');
                const iconFileInput = document.getElementById('icon-upload');
                
                if (iconUrlInput.value) {
                    addPortalToArray(name, url, iconUrlInput.value, color);
                } else if (iconFileInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (event) => addPortalToArray(name, url, event.target.result, color);
                    reader.readAsDataURL(iconFileInput.files[0]);
                } else {
                    addPortalToArray(name, url, 'fas fa-link', color); // Fallback
                }
            } else {
                addPortalToArray(name, url, icon, color);
            }
        }
        
        function addPortalToArray(name, url, icon, color, description = 'Tautan baru ditambahkan.') {
            portals.push({ name, url, icon, color, description });
            savePortals();
            renderPortals();
            document.getElementById('add-portal-modal').classList.add('hidden');
            resetPortalForm();
        }
        
        function deletePortal(event, index) {
            event.preventDefault();
            event.stopPropagation();
            if (confirm('Apakah Anda yakin ingin menghapus portal ini?')) {
                portals.splice(index, 1);
                savePortals();
                renderPortals();
            }
        }
        
        function resetPortalForm() {
            portalForm.reset();
            customIconOptions.style.display = 'none';
            if(iconPreview) {
                iconPreview.style.display = 'none';
                iconPreview.src = '#';
            }
            document.getElementById('portal-color').value = '#05d9e8';
            const colorOptions = document.querySelectorAll('#add-portal-modal .color-option');
            colorOptions.forEach(el => el.classList.remove('selected'));
            colorOptions[1].classList.add('selected');
        }
        
        function savePortals() {
            localStorage.setItem('portals', JSON.stringify(portals));
        }
        
        function showAddLinkModal() {
            document.getElementById('add-portal-modal').classList.remove('hidden');
            mobileMenu.classList.add('hidden');
        }
        
        function updateTime() {
            const now = new Date();
            timeDisplay.textContent = now.toLocaleTimeString('en-GB');
            dateDisplay.textContent = now.toLocaleDateString('id-ID', { 
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
            });
        }
        
        function selectPortalColor(color, element) {
            const container = element.closest('.color-picker-container');
            container.querySelectorAll('.color-option').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('portal-color').value = color;
        }

        function applyCustomPortalColor(color) {
            document.getElementById('portal-color').value = color;
            const container = document.getElementById('add-portal-modal');
            container.querySelectorAll('.color-option').forEach(el => el.classList.remove('selected'));
        }
        
        function setBackgroundImage() {
            const bgUrlInput = document.getElementById('bg-image-mobile').value ? document.getElementById('bg-image-mobile') : document.getElementById('bg-image');
            if (bgUrlInput && bgUrlInput.value) {
                updateBackground(bgUrlInput.value);
            }
        }

        function applyUploadedBackground() {
            if (bgPreview.src && bgPreview.src !== window.location.href + '#') {
                updateBackground(bgPreview.src);
            }
        }

        function updateBackground(imageUrl) {
            currentBgImage = imageUrl;
            localStorage.setItem('bgImage', currentBgImage);
            loadBackgroundImage();
        }
        
        function loadBackgroundImage() {
            document.body.style.setProperty('--bg-image', currentBgImage ? `url('${currentBgImage}')` : 'none');
        }
        
        function resetBackgroundImage() {
            currentBgImage = '';
            localStorage.removeItem('bgImage');
            loadBackgroundImage();
            document.querySelectorAll('[id^=bg-image]').forEach(input => input.value = '');
            if (bgPreview) {
                bgPreview.style.display = 'none';
                bgPreview.src = '#';
            }
        }
    </script>
</body>
</html>
